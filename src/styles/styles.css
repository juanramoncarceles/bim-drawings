/* Current main breakpoints are on 800px and 500px */


:root {
  --header-height: 2.5rem;
}

*,
*::before,
*::after {
  box-sizing: border-box;
}

h1, h2, h3, h4, h5, p {
  margin-top: 0;
  margin-bottom: 0;
}

ul, ol {
  list-style-type: none;
  margin-top: 0;
  margin-bottom: 0;
  padding-left: 0;
}

button {
  border-style: none;
  padding: 0;
  background-color: unset;
}

body {
  display: flex;
  flex-direction: column;
  margin: 0;
  overflow: hidden;
  color: #545454;
  font-family: 'Oswald', sans-serif;
}


/***************************** GENERAL *****************************/

svg.svg-loader {
  width: 130px;
  height: 90px;
}


/***************************** BUTTONS *****************************/

.buttonBase {
  padding: 0.4rem;
  cursor: pointer;
  border-width: 1px;
  border-style: solid;
  font-family: inherit;
}

.buttonBase.sides {
  border-top-style: none;
  border-bottom-style: none;
}

.buttonBase.light {
  color: #373737;
  border-color: #cfcfcf;
}

.buttonBase.light:hover {
  background-color: #ececec;
}

.buttonBase.disabled {
  cursor: unset;
  color: #bdbcbc;
}

button.disabled:focus {
  outline-style: none;
}

/* Locked is similar to disabled but it doesnt change color of content.*/
.buttonBase.locked {
  cursor: unset;
}

.buttonBase.disabled:hover {
  background-color: unset;
}

.buttonBase.locked:hover {
  background-color: unset;
}

/* Square buttons with one icon */
.icon-btn {
  cursor: pointer;
}

header .icon-btn {
  padding: calc(((var(--header-height) - 2px) - 24px) / 2); /* Icons should be 24px */
  height: calc(var(--header-height) - 2px);
  width: calc(var(--header-height) - 2px);
}

.icon-btn:not(.disabled):not(.btn-tool-enabled):hover {
  background-color: #ececec;
}

.icon-btn > svg {
  display: block;
  width: 24px;
  height: 24px;
}

.icon-btn.disabled {
  opacity: 0.1;
  cursor: auto;
}

.icon-btn.hidden {
  display: none;
}

.btn-tool-enabled {
  background-color: #96cbdb;
}

.btn-bg-img {
  background-repeat: no-repeat;
  background-position-y: center;
  background-position-x: 0.8rem;
}

.google-logo {
  background-image: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHZpZXdCb3g9IjAgMCAxOCAxOCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48dGl0bGU+c3VwZXIgZzwvdGl0bGU+PGcgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNOSAzLjQ4YzEuNjkgMCAyLjgzLjczIDMuNDggMS4zNGwyLjU0LTIuNDhDMTMuNDYuODkgMTEuNDMgMCA5IDAgNS40OCAwIDIuNDQgMi4wMi45NiA0Ljk2bDIuOTEgMi4yNkM0LjYgNS4wNSA2LjYyIDMuNDggOSAzLjQ4eiIgZmlsbD0iI0VBNDMzNSIvPjxwYXRoIGQ9Ik0xNy42NCA5LjJjMC0uNzQtLjA2LTEuMjgtLjE5LTEuODRIOXYzLjM0aDQuOTZjLS4xLjgzLS42NCAyLjA4LTEuODQgMi45MmwyLjg0IDIuMmMxLjctMS41NyAyLjY4LTMuODggMi42OC02LjYyeiIgZmlsbD0iIzQyODVGNCIvPjxwYXRoIGQ9Ik0zLjg4IDEwLjc4QTUuNTQgNS41NCAwIDAgMSAzLjU4IDljMC0uNjIuMTEtMS4yMi4yOS0xLjc4TC45NiA0Ljk2QTkuMDA4IDkuMDA4IDAgMCAwIDAgOWMwIDEuNDUuMzUgMi44Mi45NiA0LjA0bDIuOTItMi4yNnoiIGZpbGw9IiNGQkJDMDUiLz48cGF0aCBkPSJNOSAxOGMyLjQzIDAgNC40Ny0uOCA1Ljk2LTIuMThsLTIuODQtMi4yYy0uNzYuNTMtMS43OC45LTMuMTIuOS0yLjM4IDAtNC40LTEuNTctNS4xMi0zLjc0TC45NyAxMy4wNEMyLjQ1IDE1Ljk4IDUuNDggMTggOSAxOHoiIGZpbGw9IiMzNEE4NTMiLz48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDE4djE4SDB6Ii8+PC9nPjwvc3ZnPg==);
}

#saveBtn.enabled > svg,
#notificationBtn.enabled > svg {
  fill: #ea8c15;
  transform: scale(1.2);
}


/*************************** HEADER ********************************/

header {
  /* display: flex;  este actualmente se sobreescribe desde js */
  height: var(--header-height);
  padding-right: 8rem;
  align-items: stretch;
  z-index: 1;
  background-color: #f6f6f6;
  border-bottom: 2px solid #2a8fb1;
}

header > span:first-child {
  width: 4rem;
}

header > span:first-child > img {
  height: 100%;
  padding: 0.3rem;
  margin: auto;
  display: block;
}

header > h1 {
  position: absolute;
  right: 100%;
}

#projectsListBtn {
  min-width: 10rem;
  font-size: 1rem;
  font-weight: normal;
}

#projectsListBtn > span {
  display: inline-block;
  width: 100%;
  text-align: center;
}

@media (max-width: 500px) {
  #projectsListBtn {
    display: unset;
    min-width: unset;
    width: 2.5rem;
    font-size: 0;
    border-left-style: none;
    background-repeat: no-repeat;
    background-position: center;
    background-image: url(../assets/icons/projectsListIcon.svg);
    background-size: 24px;
  }
}

#toolbarsContainer {
  flex-grow: 1;
  /* display: flex;  Set by JS at start of the app */
  justify-content: flex-end;
}

#drawingsBtns {
  min-width: 8rem;
  text-align: center;
}

#drawingsBtns > button {
  height: calc(var(--header-height) - 2px);
  width: 100%;
  border-left-style: none;
}

#drawingsBtns > ul {
  font-size: 0.9rem;
  font-weight: lighter;
  cursor: pointer;
  background-color:#f6f6f6;
  box-shadow: 0px 2px 5px #b6b6b6;
}

#drawingsBtns > ul > li {
  padding: 0.4rem;
}

#drawingsBtns > ul > li.active {
  background-color: #c2c2c2;
  cursor: auto;
}

#drawingsBtns > ul > li:not(.active):hover {
  background-color: #dfdfdf;
}

/* Save and hamburger icon */
.global-nav-btns {
  display: flex;
  position: absolute;
  top: 0;
  right: 0;
  z-index: 1000;
  border-left: 1px solid #c8c8c8;
}

@media (max-width: 500px) {
  header {
    order: 1;
    border-top: 2px solid #2a8fb1;
    border-bottom: unset;
  }

  header > span:first-child {
    display: none;
  }

  #toolbarsContainer {
    position: absolute;
    right: 0;
  }

  #drawingsBtns > ul {
    box-shadow: 0px -2px 7px #b6b6b6;
  }
}


/**************************** DROPDOWNS ****************************/

.dropdown-container {
  z-index: 1;
  position: relative;
}

.dropdown-container > .dropdown-content {
  display: flex;
  flex-direction: column;
  transition: 0.6s;
  transform: translateY(-100%);
  opacity: 0;
  z-index: -1;
  position: absolute;
  right: 0;
  left: 0;
  top: calc(var(--header-height) - 2px);
}

.dropdown-container.responsive > .dropdown-content {
  display: inline;
  opacity: unset;
  z-index: unset;
  position: unset;
}

@media (max-width: 800px) {
  .dropdown-container.responsive > .dropdown-content {
    display: flex;
    opacity: 0;
    z-index: -1;
    position: absolute;
  }
}

.dropdown-container.open > .dropdown-content {
  transform: translateY(0%);
  opacity: 1;
}

@media (max-width: 500px) {
  .dropdown-container > .dropdown-content {
    transform: unset;
  }

  .dropdown-container.open > .dropdown-content {
    transform: translateY(calc(-100% - 2.5rem + 2px))
  }
}


/************************* MAIN CONTAINER **************************/

main {
  position: relative;
  height: calc(100vh - var(--header-height));
}


/*************************** MAIN PANEL ****************************/

#mainPanel {
  display: flex;
  position: absolute;
  /* background-color: #f6f6f6; */
  background-color: rgba(246, 246, 246, 0.9);
  transition: right 1s, bottom 1s;

  --width: 200px; /* Used for the panel docked to the right */
  --height: 200px; /* Used for the panel docked to the bottom */
}

#mainPanel.right {
  height: 100%;
  width: var(--width);
  flex-direction: column;
  top: 0;
  right: calc(var(--width) * -1); /* Usar variable con scope de este elemento que se modificara con js */
  border-left: 3px solid #2a8fb1;
}

#mainPanel.right.open {
  right: 0;
}

#mainPanel.bottom {
  height: var(--height);
  width: 100%;
  bottom: calc(var(--height) * -1);
  border-top: 3px solid #2a8fb1;
}

#mainPanel.bottom.open {
  bottom: 0;
}

#mainPanel > .panel-header {
  display: flex;
  justify-content: space-around;
  align-items: center;
  text-align: center;
}

#mainPanel > .panel-header > span {
  padding: 0.2rem;
  flex-grow: 1;
}

#mainPanel > .panel-header > span:not(.active) {
  cursor: pointer;
  border-bottom: 1px solid #a6a6a6;
  background-color: #e4e4e4;
}

#mainPanel > .panel-header > span:not(:last-child) {
  border-right: 1px solid #a6a6a6;
}

#mainPanel > .panel-body {
  flex-grow: 1;
  padding: 0.5rem;
}

#mainPanel > .panel-body > .hidden {
  display: none;
}


/************************** COMMENT FORM ***************************/

#commentForm > textarea {
  width: 100%;
}

#commentForm > .buttonsContainer { 
  margin-top: 0.5rem;
  display: flex;
  justify-content: space-between;
}


/*************************** DATA TABLE ****************************/

div#dataTablesContainer {
  display: flex;
}

#mainPanel.right div#dataTablesContainer {
  flex-direction: column;
}

.data-table {
  text-align: left;
  width: 100%;
}

.data-table > thead th {
  padding-left: 0.3rem;
  padding-right: 0.3rem;
  background-color: #dddddd;
}

.data-table > tbody th {
  width: 50%;
  font-weight: normal;
}

.data-table td {
  font-weight: lighter;
}


/************************** PROJECTS LIST **************************/

#projectsListContainer {
  height: 100%;
  width: 100%;
  position: absolute;
  background-color: #fff;
}

#projectsListContainer > div:first-child {
  display: flex;
  justify-content: space-between;
  padding: 1rem;
}

#projectsListContainer > div:first-child > span {
  width: 20%;
}

@media (max-width: 500px) {

  #closeProjectsListBtn {
    display: none;
  } 
}

#newProjectBtn {
  background-color: #d1f0ec;
}

#closeProjectsListBtn {
  float: right;
}

#projectsListContainer > div:first-child > h4 {
  overflow-x: hidden;
  font-weight: normal;
  font-size: 1.6rem;
}

#projectsList {
  display: flex;
  flex-wrap: wrap;
  margin-left: 1rem;
  
  --items-h: 6; /* Read with JS */
  --item-width: calc((100% / var(--items-h)) - 1rem);
  --remaining-items: unset; /* Any value it is ok, it will be updated with JS */
}

/* Values read with JS */
@media (max-width: 1000px) {
  #projectsList {--items-h: 5;}
}

@media (max-width: 800px) {
  #projectsList {--items-h: 4;}
}

@media (max-width: 600px) {
  #projectsList {--items-h: 3;}
}

@media (max-width: 400px) {
  #projectsList {--items-h: 2;}
}

@media (max-width: 280px) {
  #projectsList {--items-h: 1;}
}

#projectsList::after {
  content: "";
  flex-grow: var(--remaining-items);
  width: calc((var(--item-width) + 1rem) * var(--remaining-items));
}

#projectsList > .empty-msg {
  width: 100%;
  margin-top: 3rem;
  margin-bottom: 3rem;
  text-align: center;
}

.projectItem {
  flex-grow: 1;
  width: var(--item-width);
  margin-bottom: 1rem;
  margin-right: 1rem;
  position: relative;
  cursor: pointer;
  font-family: inherit;
  box-shadow: 2px 2px 7px #b2b2b2;
}

.projectItem > h4 {
  background-color: #f9f9f9;
}

.projectItem.current {
  cursor: auto;
  outline: 4px solid #7da5b6;
  box-shadow: none;
}

.projectItem.unsync {
  opacity: 0.5;
}

.projectItem:not(.current):hover {
  box-shadow: 2px 2px 7px #6b6b6b;
}

.projectItem > .sharedIcon {
  position: absolute;
  width: 30px;
  height: 30px;
  right: 6px;
  top: 6px;
  background-color: #eee;
  padding: 5px;
  border-radius: 50%;
}

.projectItem > .thumb {
  display: block;
  width: 100%;
  height: 150px;
  object-fit: cover;
}

.projectItem > h4 {
  padding: 0.6rem;
  font-weight: normal;
}

#loadMoreProjBtn {
  display: block;
  margin: auto;
}


/********************** MODAL DIALOGS GENERICS *********************/

#modalDialogContainer {
  justify-content: center;
  align-items: center;
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
}

#modalDialogContainer > div {
  padding: 1rem;
  background-color: #fff;
}

#modalDialogContainer.grayTranslucent {
  background-color: rgba(216, 216, 216, 0.8);
}

#modalDialogContainer.lightOpaque {
  background-color: #fff;
}

#closeModalBtn {
  float: right;
}


/*********************** AUTHORIZE DIALOG **************************/

#authorizeDialog {
  display: flex;
  flex-direction: column;
  padding: 1rem;
}

#authorizeDialog > img {
  align-self: center;
}

#authorizeDialog > h2 {
  font-size: 1.6rem;
  text-align: center;
  font-weight: normal;
  margin-bottom: 1.5rem;
  margin-top: 1rem;
}

#authorizeDialog > div:last-child {
  display: flex;
  flex-direction: column;
  flex-grow: 1;
  justify-content: end;
}

#authorizeDialog > div:last-child > button {
  font-size: 1.2rem;
}

#authorizeDialog > div:last-child > button:not(:last-child) {
  margin-bottom: 0.4rem;
}


/************************* UPLOAD FILE FORM ************************/

#uploadFileForm {
  display: flex;
  flex-direction: column;
  min-width: 200px;
  padding: 1rem;
  background-color: #fff;
}

#uploadFileForm > input {
  font-family: inherit;
}

#uploadFileForm > label {
  margin-top: 1rem;
  text-align: center;
  cursor: pointer;
  font-size: 0.9rem;
}

#uploadFileForm > button:last-child {
  margin-top: 0.5rem;
}

#closeUploadForm {
  align-self: flex-end;
}

#loadingFile {
  padding: 1rem;
  text-align: center;
}


/************************* SHARE PROJECT FORM ************************/

#shareProjectDialog {
  display: flex;
  flex-direction: column;
  position: relative;
  min-height: 350px;
  min-width: 400px;
  background-color: #fff;
}

#shareProjectDialog .table-wrapper {
  margin-top: 0.5rem;
  margin-bottom: 1rem;
  background-color: #f1f1f1;
}

#shareProjectDialog .table-wrapper.fixed-height {
  height: 100px;
  overflow-y: auto;
}

#shareProjectDialog .table-wrapper > table {
  width: 100%;
  border-collapse: collapse;
  background-color: #eeeeee;
}

#shareProjectDialog .table-wrapper > .empty-msg {
  display: none;
  height: 100%;
  align-items: center;
  justify-content: center;
  padding: 1rem;
}

#shareProjectDialog > .users-container.empty .empty-msg {
  display: flex;
}

#shareProjectDialog > .users-container.empty table {
  display: none;
}

#shareProjectDialog > .users-container.hidden {
  visibility: hidden;
}

#shareProjectDialog td.action-btn {
  width: 30px;
  cursor: pointer;
  text-align: center;    
}

#shareProjectDialog td.action-btn > svg {
  width: 12px;
  height: 12px;
}

#shareProjectDialog td.action-btn:hover {
  background-color: #dbdbdb;
}

#shareProjectDialog tr {
  border-bottom: 2px solid #fff;
}

#shareProjectDialog tr.to-delete > td:first-child {
  opacity: 0.4;
}

/* #shareProjectDialog tr.to-delete > td:nth-child(2) {
  visibility: hidden;
} */

#shareProjectDialog td.user-data {
  padding: 0.4rem;
}

#shareProjectDialog td.user-data > span {
  display: block;
}

#shareProjectDialog td.user-data > span:nth-child(2) {
  font-weight: lighter;
}

/* #shareProjectDialog > .form-wrapper {
  position: relative;
} */

#shareProjectDialog > form > label {
  display: block;
  margin-bottom: 0.5rem;
}

#shareProjectDialog > form > div {
  display: flex;
}

#shareProjectDialog > form input {
  flex-grow: 1;
  padding: 0.4rem;
}

#shareProjectDialog > form button {
  width: 60px;
}

#shareProjectDialog > .loader-container {
  display: flex;
  align-items: center;
  justify-content: center;
  position: absolute;
  width: 100%;
  height: 100%;
  top: 0;
  left: 0;
  background-color: rgba(255, 255, 255, 0.7);
}

#shareProjectDialog > .loader-container.hidden {
  display: none;
}

/* #shareProjectDialog .confirm-share-btn {
  position: absolute;
  right: 0;
  bottom: 0;
}

#shareProjectDialog .confirm-share-btn.hidden {
  visibility: hidden;
} */

#shareProjectDialog .confirm-changes-btns {
  flex-grow: 1;
  display: flex;
  align-items: flex-end;
  justify-content: flex-end;
  margin-top: 1rem;
}

#shareProjectDialog .save-changes-btn {
  margin-left: 0.5rem;
  background-color: #d1f0ec;
}


/************************ MESSAGE CONTAINER ************************/

#messageContainer {
  position: absolute;
  padding: 1rem;
  max-width: 300px;
  flex-direction: column;
  align-items: flex-end;
  bottom: 2rem;
  right: 2rem;
  box-shadow: 2px 2px 6px #b2b2b2;
}

#messageContainer > button {
  margin-bottom: 0.5rem;
}

#messageContainer > button > img {
  width: 1rem;
}
  
#messageContainer.success {
  background-color: #aef5ad;
}

#messageContainer.error {
  background-color: #dc9393;
}

#messageContainer.warning {
  background-color: #ecdaa4;
}


/************************ SIDENAV CONTAINER ************************/

#sideNavContainer {
  display: flex;
  flex-direction: column;
  position: absolute;
  height: 100vh;
  width: 314px;
  top: 0;
  right: 0;
  z-index: 999;
  transform: translateX(314px);
  background-color: #fff;
}

#sideNavContainer.active {
  transform: translateX(0);
}

.side-nav-header {
  padding-right: 1rem;
  padding-left: 1rem;
}

#user-info {
  display: flex;
  align-items: flex-end;
  margin-top: var(--header-height);
}

#user-info > img {
  margin-right: 0.6rem;
  border-radius: 50%;
}

#user-info > span {
  overflow-x: hidden;
}

#user-info > span > span {
  display: block;
}

#user-info .email {
  font-weight: lighter;
}

.side-nav-actions {
  flex-grow: 1;
  padding: 1rem;
}

.side-nav-actions > button {
  width: 100%;
}

#sideNavToggle {
  width: 24px;
  height: 24px;
  margin: 0.4rem;
  cursor: pointer;
  border-style: none;
  background-image: url('../assets/icons/hamburgerIcon.svg');
  background-repeat: no-repeat;
  background-position: center;
}

#sideNavToggle.active {
  background-image: url('../assets/icons/crossIcon.svg');
}

#sideNavContainer + .side-nav-shade {
  position: absolute;
  z-index: 10;
  background-color: #000;
  width: 100%;
  height: 100vh;
  top: 0;
  opacity: 0;
  left: 100%;
  transition: opacity .25s ease-out,left 0s linear .25s;
}

#sideNavContainer.active + .side-nav-shade {
  opacity: 0.7;
  left: 0;
  transition: opacity .25s ease-out,left 0s linear;
}

.side-nav-footer {
  padding: 1rem;
  font-weight: lighter;
}


/************************** NOTIFICATIONS **************************/

#notificationsContainer {
  display: none;
  position: absolute;
  width: 450px;
  top: calc(var(--header-height) + 1rem);
  right: 1rem;
  opacity: 0;
  transition: opacity .2s ease-in;
  background-color: #f6f6f6;
  box-shadow: 0 0 12px rgba(0,0,0,0.2);
}

#notificationsContainer > .empty-msg {
  display: none;
  padding: 2rem 0.8rem;
  text-align: center;
}

#notificationsContainer.open {
  display: unset;
  opacity: 1;
}

#notificationsContainer.empty > .notifications-body {
  display: none;
}

#notificationsContainer.empty > .empty-msg {
  display: block;
}

.notifications-header {
  padding: 0.8rem;
  background-color: #fbfbfb;
  border-bottom: 2px solid #dbdbdb;
}

.notifications-body {
  max-height: 350px;
  overflow: auto;
}

.notifications-body > li {
  display: flex;
  padding: 0.8rem;
  cursor: pointer;
  border-bottom: 1px solid #dbdbdb;
}

.notifications-body > li.pending {
  background-color: #cbeaf5;
}

.notifications-body > li.pending:hover {
  background-color: #c2e0ea;
}

.notifications-body > li:hover {
  background-color: #eaeaea; /* Should match the one in the buttons, put in a variable */
}

.notification-thumb {
  height: 50px;
  margin-right: 1rem;
  border-radius: 50%;
}

.notification-content > h4 {
  margin-bottom: 0.2rem;
  font-weight: 500;
}

.notification-content > p {
  font-weight: lighter;
}


/************************ DRAWING CONTAINER ************************/

#drawingsContainer {
  height: 100%;
}

#drawingsContainer > div {
  display: block;
  height: 100%;
}

#drawingsContainer > div > svg {
  display: block;
  height: 100%;
  width: 100%;
}


/************************* VIEWPORT MESSAGES ***********************/

#viewportMessage {
  display: none;
  position: absolute;
  width: 100%;
  height: 100%;
  top: 0;
  justify-content: center;
  align-items: center;
  text-align: center;
  font-weight: lighter;
  background-color: rgba(255, 255, 255, 0.95);
}

#viewportMessage.active {
  display: flex;
}

#viewportMessage p {
  padding-bottom: 1rem;
}

#viewportMessage .btns-container {
  display: flex;
  justify-content: space-around;
}


/***************************** SVG STATES **************************/

/* Important to add specificity with two levels to overwrite the drawing styles. */

.selected {
  --fill: #ffbd00;
  --stroke: #e89807;
  --stroke-w: 8px;
}

.selected.solid path,
.selected.solid polygon,
.selected.solid polyline,
.selected.solid rect,
.selected.solid text {
  fill: var(--fill);
  stroke: var(--stroke);
  stroke-width: var(--stroke-w);
}

.selected.curve path,
.selected.curve polygon,
.selected.curve polyline,
.selected.curve rect,
.selected.curve line {
  stroke: var(--stroke);
  stroke-width: var(--stroke-w);
}

.selected.hatch path,
.selected.hatch polygon,
.selected.hatch text {
  fill: var(--fill);
}


/**************************** CONTEXT MENU *************************/

#contextMenu {
  width: 120px;
  position: absolute;
  padding-top: 0.5rem;
  background-color: #fff;
  box-shadow: 2px 2px 7px rgba(0, 0, 0, 0.2);
}

#contextMenu > ul > li {
  padding: 0.6rem;
  cursor: pointer;
}

#contextMenu > ul > li:hover {
  background-color: rgba(0, 0, 0, 0.2);
}


/******************* INSTALLED APP CUSTOM STYLES *******************
*
* The display is set to standalone on the manifest.json
*/

/* @media all and (display-mode: standalone) {
  body {
    background-color: yellow;
  }
} */